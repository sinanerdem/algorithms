/*
 * amicable.cpp
 *
 *  Created on: Apr 10, 2015
 *      Author: sinan
 */

#include "amicable.h"

amicable::amicable(int max) {
	counter = 0;
	for(int i=220;i<=max;i++){
		int y = findSumOfFactors(i);
		if (i==y){continue;}
		if (y > max){continue;}
		if(i == findSumOfFactors(y)){
			if (inArray(i)){continue;}
			results[counter][0]=i;
			results[counter][1]=y;
			cout << counter << ": " << i << " and " << y << endl;
			counter++;
		}
	}
}
amicable::~amicable() {
	// TODO Auto-generated destructor stub
}

int amicable::findSumOfFactors(int x){
	int sof = 1;
    for (int i=2; i*i<=x; ++i) {
       if (x%i == 0) {
          sof += i;
          sof += x/i;
       }
       if (i*i == x) sof -= i;
    }
	return sof;
}
bool amicable::inArray(int x){
	for(int a=0;a<=counter;a++){
		if(x==results[a][1]){
			return true;
		}
	}
	return false;
}

/*
0: 220 and 284
1: 1184 and 1210
2: 2620 and 2924
3: 5020 and 5564
4: 6232 and 6368
5: 10744 and 10856
6: 12285 and 14595
7: 17296 and 18416
8: 63020 and 76084
9: 66928 and 66992
10: 67095 and 71145
11: 69615 and 87633
12: 79750 and 88730
13: 100485 and 124155
14: 122265 and 139815
15: 122368 and 123152
16: 141664 and 153176
17: 142310 and 168730
18: 171856 and 176336
19: 176272 and 180848
20: 185368 and 203432
21: 196724 and 202444
22: 280540 and 365084
23: 308620 and 389924
24: 319550 and 430402
25: 356408 and 399592
26: 437456 and 455344
27: 469028 and 486178
28: 503056 and 514736
29: 522405 and 525915
30: 600392 and 669688
31: 609928 and 686072
32: 624184 and 691256
33: 635624 and 712216
34: 643336 and 652664
35: 667964 and 783556
36: 726104 and 796696
37: 802725 and 863835
38: 879712 and 901424
39: 898216 and 980984
40: 947835 and 1125765
41: 998104 and 1043096
42: 1077890 and 1099390
43: 1154450 and 1189150
44: 1156870 and 1292570
45: 1175265 and 1438983
46: 1185376 and 1286744
47: 1280565 and 1340235
48: 1328470 and 1483850
49: 1358595 and 1486845
50: 1392368 and 1464592
51: 1466150 and 1747930
52: 1468324 and 1749212
53: 1511930 and 1598470
54: 1669910 and 2062570
55: 1798875 and 1870245
56: 2082464 and 2090656
57: 2236570 and 2429030
58: 2652728 and 2941672
59: 2723792 and 2874064
60: 2728726 and 3077354
61: 2739704 and 2928136
62: 2802416 and 2947216
63: 2803580 and 3716164
64: 3276856 and 3721544
65: 3606850 and 3892670
66: 3786904 and 4300136
67: 3805264 and 4006736
68: 4238984 and 4314616
69: 4246130 and 4488910
70: 4259750 and 4445050
71: 4482765 and 5120595
72: 4532710 and 6135962
73: 4604776 and 5162744
74: 5123090 and 5504110
75: 5147032 and 5843048
76: 5232010 and 5799542
77: 5357625 and 5684679
78: 5385310 and 5812130
79: 5459176 and 5495264
80: 5726072 and 6369928
81: 5730615 and 6088905
82: 5864660 and 7489324
83: 6329416 and 6371384
84: 6377175 and 6680025
85: 6955216 and 7418864
86: 6993610 and 7158710
87: 7275532 and 7471508
88: 7288930 and 8221598
89: 7489112 and 7674088
90: 7577350 and 8493050
91: 7677248 and 7684672
92: 7800544 and 7916696
93: 7850512 and 8052488
94: 8262136 and 8369864
95: 8619765 and 9627915
96: 8666860 and 10638356
97: 8754130 and 10893230
98: 8826070 and 10043690
99: 9071685 and 9498555
100: 9199496 and 9592504
101: 9206925 and 10791795
102: 9339704 and 9892936
103: 9363584 and 9437056
104: 9478910 and 11049730
105: 9491625 and 10950615
106: 9660950 and 10025290
107: 9773505 and 11791935
108: 10254970 and 10273670
109: 10533296 and 10949704
110: 10572550 and 10854650
111: 10596368 and 11199112
112: 10634085 and 14084763
113: 10992735 and 12070305
114: 11173460 and 13212076
115: 11252648 and 12101272
116: 11498355 and 12024045
117: 11545616 and 12247504
118: 11693290 and 12361622
119: 11905504 and 13337336
120: 12397552 and 13136528
121: 12707704 and 14236136
122: 13671735 and 15877065
123: 13813150 and 14310050
124: 13921528 and 13985672
125: 14311688 and 14718712
126: 14426230 and 18087818
127: 14443730 and 15882670
128: 14654150 and 16817050
129: 15002464 and 15334304
130: 15363832 and 16517768
131: 15938055 and 17308665
132: 16137628 and 16150628
133: 16871582 and 19325698
134: 17041010 and 19150222
135: 17257695 and 17578785
136: 17754165 and 19985355
137: 17844255 and 19895265
138: 17908064 and 18017056
139: 18056312 and 18166888
140: 18194715 and 22240485
141: 18655744 and 19154336
142: 20014808 and 21457192
143: 20022328 and 22823432
144: 20308995 and 20955645
145: 21448630 and 23030090
146: 22227075 and 24644925
147: 22249552 and 25325528
148: 22508145 and 23111055
149: 22608632 and 25775368
150: 23358248 and 25233112
151: 23389695 and 25132545
152: 23628940 and 27428276
153: 24472180 and 30395276
154: 25596544 and 25640096
155: 25966832 and 26529808
156: 26090325 and 26138475
157: 28118032 and 28128368
158: 28608424 and 29603576
159: 30724694 and 32174506
160: 30830696 and 31652704
161: 31536855 and 32148585
162: 31818952 and 34860248
163: 32205616 and 34352624
164: 32642324 and 35095276
165: 32685250 and 34538270
166: 33501825 and 36136575
167: 34256222 and 35997346
168: 34364912 and 34380688
169: 34765731 and 36939357
170: 35115795 and 43266285
171: 35361326 and 40117714
172: 35373195 and 40105845
173: 35390008 and 39259592
174: 35472592 and 36415664
175: 37363095 and 45663849
176: 37784810 and 39944086
177: 37848915 and 39202605
178: 38400512 and 38938288
179: 38637016 and 40678184
180: 38663950 and 43362050
181: 38783992 and 41654408
182: 38807968 and 40912232
183: 43096904 and 46715896
184: 44139856 and 44916944
185: 45263384 and 46137016
186: 46237730 and 61319902
187: 46271745 and 49125375
188: 46521405 and 53011395
189: 46555250 and 55880590
190: 46991890 and 48471470
191: 48639032 and 52967368
192: 48641584 and 48852176
193: 49215166 and 55349570
194: 50997596 and 51737764
195: 52695376 and 56208368
196: 56055872 and 56598208
197: 56512610 and 75866014
198: 56924192 and 64562488
199: 58580540 and 70507972
200: 59497888 and 61953512
201: 63560025 and 65003175
202: 63717615 and 66011985
203: 66595130 and 74824390
204: 66854710 and 71946890
205: 67729064 and 69439576
206: 67738268 and 79732132
207: 68891992 and 78437288
208: 71015260 and 85458596
209: 71241830 and 78057370
210: 72958556 and 74733604
211: 73032872 and 78469528
212: 74055952 and 78166448
213: 74386305 and 87354495
214: 74769345 and 82824255
215: 75171808 and 77237792
216: 75226888 and 81265112
217: 78088504 and 88110536
218: 78447010 and 80960990
219: 79324875 and 87133365
220: 80422335 and 82977345
221: 83135650 and 85603550
222: 84591405 and 89590995
223: 86158220 and 99188788
224: 89477984 and 92143456
225: 90437150 and 94372450
226: 91996816 and 93259184
227: 93837808 and 99899792
228: 95629904 and 97580944
229: 96304845 and 96747315
230: 97041735 and 97945785
Run time for amicable 5227.35 secs
 */
